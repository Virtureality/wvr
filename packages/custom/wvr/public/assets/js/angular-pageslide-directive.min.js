/*! angular-pageslide-directive 2015-06-29 */
angular.module("pageslide-directive",[]).directive("pageslide",[function(){return{restrict:"EAC",transclude:!1,scope:{psOpen:"=?",psAutoClose:"=?",psSide:"@",psSpeed:"@",psClass:"@",psSize:"@",psSqueeze:"@",psCloak:"@",psPush:"@",psContainer:"@"},link:function(a,b,c){function d(b,c){if(b&&0!==b.style.width&&0!==b.style.width)switch(c.cloak&&g.css("display","none"),c.side){case"right":b.style.width="0px",c.squeeze&&(i.style.right="0px"),c.push&&(i.style.right="0px",i.style.left="0px");break;case"left":b.style.width="0px",c.squeeze&&(i.style.left="0px"),c.push&&(i.style.left="0px",i.style.right="0px");break;case"top":b.style.height="0px",c.squeeze&&(i.style.top="0px"),c.push&&(i.style.top="0px",i.style.bottom="0px");break;case"bottom":b.style.height="0px",c.squeeze&&(i.style.bottom="0px"),c.push&&(i.style.bottom="0px",i.style.top="0px")}a.psOpen=!1}function e(a,b){if(0!==a.style.width&&0!==a.style.width){switch(b.side){case"right":a.style.width=b.size,b.squeeze&&(i.style.right=b.size),b.push&&(i.style.right=b.size,i.style.left="-"+b.size);break;case"left":a.style.width=b.size,b.squeeze&&(i.style.left=b.size),b.push&&(i.style.left=b.size,i.style.right="-"+b.size);break;case"top":a.style.height=b.size,b.squeeze&&(i.style.top=b.size),b.push&&(i.style.top=b.size,i.style.bottom="-"+b.size);break;case"bottom":a.style.height=b.size,b.squeeze&&(i.style.bottom=b.size),b.push&&(i.style.bottom=b.size,i.style.top="-"+b.size)}setTimeout(function(){b.cloak&&g.css("display","block")},1e3*b.speed)}}var f={};f.side=a.psSide||"right",f.speed=a.psSpeed||"0.5",f.size=a.psSize||"300px",f.zindex=1e3,f.className=a.psClass||"ng-pageslide",f.cloak=a.psCloak&&"false"==a.psCloak.toLowerCase()?!1:!0,f.squeeze=Boolean(a.psSqueeze)||!1,f.push=Boolean(a.psPush)||!1,f.container=a.psContainer||!1,b.addClass(f.className);var g=null,h=null,i=f.container?document.getElementById(f.container):document.body;if(h=b[0],"div"!==h.tagName.toLowerCase()&&"pageslide"!==h.tagName.toLowerCase())throw new Error("Pageslide can only be applied to <div> or <pageslide> elements");if(0===h.children.length)throw new Error("You have to content inside the <pageslide>");switch(g=angular.element(h.children),i.appendChild(h),h.style.zIndex=f.zindex,h.style.position=f.container!==!1?"absolute":"fixed",h.style.width=0,h.style.height=0,h.style.overflow="hidden",h.style.transitionDuration=f.speed+"s",h.style.webkitTransitionDuration=f.speed+"s",h.style.transitionProperty="width, height",f.squeeze&&(i.style.position="absolute",i.style.transitionDuration=f.speed+"s",i.style.webkitTransitionDuration=f.speed+"s",i.style.transitionProperty="top, bottom, left, right"),f.side){case"right":h.style.height=c.psCustomHeight||"100%",h.style.top=c.psCustomTop||"0px",h.style.bottom=c.psCustomBottom||"0px",h.style.right=c.psCustomRight||"0px";break;case"left":h.style.height=c.psCustomHeight||"100%",h.style.top=c.psCustomTop||"0px",h.style.bottom=c.psCustomBottom||"0px",h.style.left=c.psCustomLeft||"0px";break;case"top":h.style.width=c.psCustomWidth||"100%",h.style.left=c.psCustomLeft||"0px",h.style.top=c.psCustomTop||"0px",h.style.right=c.psCustomRight||"0px";break;case"bottom":h.style.width=c.psCustomWidth||"100%",h.style.bottom=c.psCustomBottom||"0px",h.style.left=c.psCustomLeft||"0px",h.style.right=c.psCustomRight||"0px"}a.$watch("psOpen",function(a){a?e(h,f):d(h,f)}),a.$on("$destroy",function(){i.removeChild(h)}),a.psAutoClose&&(a.$on("$locationChangeStart",function(){d(h,f)}),a.$on("$stateChangeStart",function(){d(h,f)}))}}}]);