{"version":3,"sources":["../src/test_onfail.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;mBAEE,WAAW;;;;AAE1B,OAAO,CAAC,QAAQ,CAAC,CAAC;AAClB,OAAO,CAAC,oBAAoB,CAAC,CAAC,OAAO,EAAE,CAAC;;AAExC,QAAQ,CAAC,eAAe,EAAE,YAAM;AAC9B,IAAE,CAAC,4BAA4B,EAAE,YAAM;AACrC,QAAM,CAAC,GAAG,iBAAG,GAAG,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,MAAM,CAAC,6BAA6B,CAAC,CAAC;AACvE,KAAC;aAAM,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC;MAAA,CAAE,MAAM,SAAM,CAAC,oBAAoB,CAAC,CAAC;GACvD,CAAC,CAAC;;AAEH,IAAE,CAAC,wBAAwB,EAAE,YAAM;AACjC,QAAM,CAAC,GAAG,iBAAG,GAAG,CACd,sBAAG,KAAK,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,EACzB,OAAO,CACR,CAAC;;AAEF,KAAC;aAAM,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC;MAAA,CAAE,MAAM,SAAM,CAAC,mBAAmB,CAAC,CAAC;GACtD,CAAC,CAAC;;AAEH,IAAE,CAAC,mCAAmC,EAAE,YAAM;AAC5C,QAAM,CAAC,GAAG,iBAAG,GAAG,CACd,sBAAG,KAAK,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,EACzB,OAAO,CACR,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;;AAElB,KAAC;aAAM,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC;MAAA,CAAE,MAAM,SAAM,CAAC,QAAQ,CAAC,CAAC;GAC3C,CAAC,CAAA;CACH,CAAC,CAAC","file":"test_onfail.js","sourcesContent":["\"use strict\";\n\nimport pr from \"../../lib\";\n\nrequire(\"should\");\nrequire(\"source-map-support\").install();\n\ndescribe(\"Parser.onFail\", () => {\n  it(\"overrides an inner failure\", () => {\n    const p = pr.alt(/\\d+/, \"hello\").onFail(\"Expected number or greeting\");\n    (() => p.run(\"a\")).should.throw(/number or greeting/);\n  });\n\n  it(\"combines across an alt\", () => {\n    const p = pr.alt(\n      pr(/\\d+/).named(\"number\"),\n      \"hello\"\n    );\n\n    (() => p.run(\"a\")).should.throw(/number or 'hello'/);\n  });\n\n  it(\"picks up a new name across an alt\", () => {\n    const p = pr.alt(\n      pr(/\\d+/).named(\"number\"),\n      \"hello\"\n    ).named(\"widget\");\n\n    (() => p.run(\"a\")).should.throw(/widget/);\n  })\n});\n"]}