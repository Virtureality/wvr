{"version":3,"sources":["../src/test_repeat_separated.js"],"names":[],"mappings":"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","file":"test_repeat_separated.js","sourcesContent":["\"use strict\";\n\nimport pr, { regex, repeatSeparated } from \"../../lib\";\n\nrequire(\"should\");\nrequire(\"source-map-support\").install();\n\ndescribe(\"Parser.repeatSeparated\", () => {\n  it(\"works\", () => {\n    const p = pr.repeatSeparated(\"hi\", \",\").consume();\n    const rv = p.execute(\"hi,hi,hi\");\n    rv.state.pos.should.equal(8);\n    rv.value.should.eql([ \"hi\", \"hi\", \"hi\" ]);\n  });\n\n  describe(\"comma-separated numbers\", () => {\n    const p = repeatSeparated(regex(/\\d+/).onMatch(x => x[0]), /\\s*,\\s*/);\n\n    it(\"matches one\", () => {\n      const rv = p.consume().execute(\"98\");\n      rv.state.pos.should.equal(2);\n      rv.value.should.eql([ \"98\" ]);\n    });\n\n    it(\"matches several\", () => {\n      const rv = p.consume().execute(\"98, 99 ,100\");\n      rv.state.pos.should.equal(11);\n      rv.value.should.eql([ \"98\", \"99\", \"100\" ]);\n    })\n\n    it(\"map\", () => {\n      const rv = p.onMatch(x => x.map(n => parseInt(n, 10))).consume().execute(\"98, 99 ,100\");\n      rv.state.pos.should.equal(11);\n      rv.value.should.eql([ 98, 99, 100 ]);\n    });\n\n    it(\"ignores trailing separators\", () => {\n      const p2 = pr([ p, pr(/[^\\d]+/).map(m => m[0]) ]);\n      const rv = p2.consume().execute(\"98, wut\");\n      rv.state.pos.should.equal(7);\n      rv.value.should.eql([ [ \"98\" ], \", wut\" ]);\n    });\n  });\n});\n"]}